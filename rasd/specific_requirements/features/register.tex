\subsubsection{Purpose}
Anyone who wants to subscribe to the \emph{PowerEnJoy} service can carry out the registration process through the mobile application or the web one. First of all the guest has to fill a registration form with his/her personal information and accept the Terms and Conditions of use otherwise the procedure will be aborted.

As soon as the guest submits the data, the system checks all the information and sends a confirmation e-mail to the specified e-mail address including the password to access the service and the information about the provided authentication method required to start the car engine.

\subsubsection{Scenario 1}
Marta would like to register to the \emph{PowerEnJoy} rental service from her computer. She opens the browser and loads the registration page by clicking on the \emph{"sign up"} button located in the \emph{PowerEnJoy} login page. She fills in the registration form and agrees the service Terms and Conditions. Then Marta submits everything to the system, that checks the personal data. Authentication information is sent to Marta in a confirmation e-mail notifying the successful registration.

\subsubsection{Scenario 2}
Yuri cannot afford a car and therefore decides to take advantage of the \emph{PowerEnJoy} service. He accesses the login page from his mobile phone and taps the \emph{"sign up"} button since he is not a registered user. Then he fills in the form and accepts the Terms and Conditions of use.

Unfortunately he forgets to fill in his own tax code and the system does not allow him to carry out a successful registration notifying the forgetfulness. Afterwards Yuri completes the procedure by filling the whole form. The system communicates the successful registration and sends him a confirmation e-mail containing authentication information.

\subsubsection{Use-case}

The use-case of the registration procedure is analyzed in Table \ref{register_uc}.
A more detailed use-case diagram about the registration procedure is shown in Figure \ref{register_det_uc}.

\subsubsection{Activity diagram}

The activity diagram of the registration procedure is shown in Figure \ref{register_act}.

\subsubsection{Functional requirements}
\begin{enumerate}
\item The system must not accept an already registered e-mail address for the registration process;
\item The system must request for the following mandatory personal information:
	\begin{itemize}
	\item e-mail address
	\item name
	\item surname
	\item ID card number
	\item tax code
	\item license ID number
	\item address
	\item phone number
	\item favourite payment method
	\end{itemize}
\item There must not be another subscribed user with the same identity card number, tax code or license ID;
\item Until the guest does not accept the Terms and Conditions of use, the registration process must not be concluded by the system;
\item The system must send an e-mail containing authentication information to the e-mail address specified by the guest when he/she clicks on \emph{"Submit"} button and all the required information has been entered;
\item The system allows the guest to exit the registration process at any time;
\end{enumerate}

\begin{figure}[H]
\begin{center}
		\includegraphics[width=0.9\textwidth]{./specific_requirements/features/diagrams/registration_proc_uc.png}
		\caption{Detailed use-case diagram of the registration process.\\Note: the authentication information includes both password and the detailed explanation of the provided authentication method used to unlock cars}
		\label{register_det_uc}
\end{center}
\end{figure}

\begin{table}[H]
\begin{center}
\begin{tabular}{p{0.3\textwidth} | p{0.7\textwidth}}
\hline
Actor & Guest\\
\hline
Goal & Goal 1\\
\hline
Input Condition & A person wants to subscribe to the service.\\
\hline
Event Flow & 
\begin{enumerate}
\item The guest opens the \emph{PowerEnJoy} home page or the mobile application and clicks or taps on the "Sign up" button;
\item The registration form is loaded and the guest fills in all the fields with his/her personal information;
\item The guest agrees the service Terms and Conditions by checking the corresponding box;
\item The guest clicks on \emph{"Submit"} button;
\item The system saves the data in its database and sends a confirmation e-mail containing the authentication information to the newly registered user.
\end{enumerate} \\
\hline
Output Condition & The system tells the user he/she is successfully subscribed and lets him/her to log in with the provided credentials.\\
\hline
Exception & When some exceptions occur, the system reloads the registration form and goes back to step 2 of Event Flow notifying the guest about the error. This happens when the following requirements are not satisfied: 1, 2, 3.

The registration process is aborted when the guest decides not to carry it out completely or when requirement 4 generates an exception.\\
\hline
\end{tabular}
\end{center}
\caption{Register use-case}
\label{register_uc}
\end{table}

\begin{figure}[H]
\begin{center}
		\includegraphics[width=\textwidth]{./specific_requirements/features/diagrams/registration_activity.png}
		\caption{Activity diagram of the registration process from the system point of view.}
		\label{register_act}
\end{center}
\end{figure}

\begin{figure}[H]
\begin{center}
		\includegraphics[width=0.8\textwidth]{./specific_requirements/features/diagrams/web_registration.png}
		\caption{Mockup of the sign up webpage.\\Note: the \emph{"Payment Method"} field contains an example of possible choices that will be defined in the implementation phase.}
\end{center}
\end{figure}