The following are the test cases to be carried out. They are directly mapped with Table \ref{software_int} for the integration among components and Table \ref{subsys_int} for the subsystems integration. Test cases starting with \textbf{I} are integration test among components while test cases starting with \textbf{SI} concern the integration among subsystems. The adopted structure of the tables refers to the provided inegration test example~\cite{testplan_ex}.

\section{Integration Test Cases I01, I02, I03, I04, I05, I06, I07, I08}

The following test cases concern the integration among the Java Entity Beans and the Database Tier running the DBMS. Since the test cases are very similar to each others, they are grouped together as follows:

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I01T1\\
\hline
\textbf{Test Item(s)} & (JEB) User $\rightarrow$ DBMS \\
\hline
\textbf{Input Specification} & Typical queries on table User. \\
\hline
\hline
\textbf{Test Case Identifier} & I02T1\\
\hline
\textbf{Test Item(s)} & (JEB) Car $\rightarrow$ DBMS \\
\hline
\textbf{Input Specification} & Typical queries on table Car. \\
\hline
\hline
\textbf{Test Case Identifier} & I03T1\\
\hline
\textbf{Test Item(s)} & (EJB) Reservation $\rightarrow$ DBMS \\
\hline
\textbf{Input Specification} & Typical queries on table Reservation. \\
\hline
\hline
\textbf{Test Case Identifier} & I04T1\\
\hline
\textbf{Test Item(s)} & (EJB) Ride $\rightarrow$ DBMS \\
\hline
\textbf{Input Specification} & Typical queries on table Ride. \\
\hline
\hline
\textbf{Test Case Identifier} & I05T1\\
\hline
\textbf{Test Item(s)} & (EJB) SafeArea $\rightarrow$ DBMS \\
\hline
\textbf{Input Specification} & Typical queries on table SafeArea. \\
\hline
\hline
\textbf{Test Case Identifier} & I06T1\\
\hline
\textbf{Test Item(s)} & (EJB) PowerGridStation $\rightarrow$ DBMS \\
\hline
\textbf{Input Specification} & Typical queries on table PowerGridStation. \\
\hline
\hline
\textbf{Test Case Identifier} & I07T1\\
\hline
\textbf{Test Item(s)} & (EJB) AlternativeChargesSituation $\rightarrow$ DBMS \\
\hline
\textbf{Input Specification} & Typical queries on table AlternativeChargesSituation. \\
\hline
\hline
\textbf{Test Case Identifier} & I08T1\\
\hline
\textbf{Test Item(s)} & (EJB) Payment $\rightarrow$ DBMS \\
\hline
\textbf{Input Specification} & Typical queries on table Payment. \\
\hline
\hline
\textbf{Output Specification} & The queries shall return the correct results. \\
\hline
\textbf{Environmental Needs} & GlassFish server, Test Database. \\
\hline
\textbf{Test Description} & The purpose of these tests is to check the correctness of the queries to the DBMS that the JEBs shall perform and implement. Drivers for the entity beans are used to properly initialize and call their methods before the related Session Beans are fully developed. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\section{Integration Test Case I09}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I09T1\\
\hline
\textbf{Test Item(s)} & (SB) DiscountProvider $\rightarrow$ (JEB) AlternativeChargesSituation \\
\hline
\textbf{Input Specification} & Calls from DiscountProvider to methods of the AlternativeChargesSituations entity to manage and update the information about discounts and additional charges accumulated during a rental.\\
\hline
\textbf{Output Specification} & The additional charges or discount information updates must be correctly memorized and made persistent. \\
\hline
\textbf{Environmental Needs} & GlassFish server, Test Database. \\
\hline
\textbf{Test Description} & The purpose of this test is to verify that the additional charges or discount information are correctly managed and updated by the AlternativeChargesSituation entity upon being prompted by the DiscountProvider. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\section{Integration Test Case I10}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I10T1\\
\hline
\textbf{Test Item(s)} & (SB) CarStatusManager $\rightarrow$ (JEB) Car \\
\hline
\textbf{Input Specification} & Calls from CarStatusManager to methods of the Car entity to update the car status information according to specific conditions.\\
\hline
\textbf{Output Specification} & The car status information updates must be correctly memorized and made persistent. \\
\hline
\textbf{Environmental Needs} & GlassFish server, Test Database. \\
\hline
\textbf{Test Description} & The purpose of this test is to check that every update to the status attribute of the Car entities performed upon requests from the CarStatusManager is applied correctly. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\section{Integration Test Case I11}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I11T1\\
\hline
\textbf{Test Item(s)} & (SB) UserManager $\rightarrow$ (JEB) User \\
\hline
\textbf{Input Specification} & Calls from UserManager to methods of the User entity to update user account and profile information according to user requests. \\
\hline
\textbf{Output Specification} & The target information must be updated correctly and the change must be made persistent. \\
\hline
\textbf{Environmental Needs} & GlassFish server. \\
\hline
\textbf{Test Description} & The purpose of this test is to check that every modification requested by a user to his/her personal information is performed correctly. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I11T2\\
\hline
\textbf{Test Item(s)} & (SB) UserManager $\rightarrow$ (JEB) User, (SB) NotificationManager \\
\hline
\textbf{Input Specification} & Calls from UserManager to the methods of the User entity to manage user information (i.e. generate user credentials) when this operation requires a confirmation e-mail; calls to the methods of NotificationManager in order to generate and send said e-mails. \\
\hline
\textbf{Output Specification} & The target information must be updated and the change made persistent, and a notification e-mail must be sent to the corresponding user. \\
\hline
\textbf{Environmental Needs} & GlassFish server, mocked e-mail sender and receiver. \\
\hline
\textbf{Test Description} & The purpose of this test is to check that every modification requested by a user that implies an e-mail notification is performed correctly and said e-mail is sent without issues. The message must be simulated through a mock e-mail address manager which simulates the user behaviour as needed. \\
\hline
\textbf{Testing Method} & Automated with JUnit and Mockito. \\
\hline
\end{longtable}

\section{Integration Test Case I12}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I12T1\\
\hline
\textbf{Test Item(s)} & (SB) PaymentGateway $\rightarrow$ (SB) DiscountProvider \\
\hline
\textbf{Input Specification} & Call from PaymentGateway to the methods of DiscountProvider to trigger the retrieval of the lists of alternative charges situations. \\
\hline
\textbf{Output Specification} & The lists of situations are returned correctly. \\
\hline
\textbf{Environmental Needs} & GlassFish server. \\
\hline
\textbf{Test Description} & The purpose of this test is to ensure that every time the PaymentGateway requests the discount or additional charges situations relative to a ride, the DiscountProvider indicates all of them correctly in list form. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I12T2\\
\hline
\textbf{Test Item(s)} & (SB) PaymentGateway $\rightarrow$ (JEB) Payment, (SB) UserManager, (SB) NotificationManager \\
\hline
\textbf{Input Specification} & Method calls from PaymentGateway to the Payment entities to create and memorized them in a persistent way, to the NotificationManager in order to generate the necessary confirmation/error e-mails, and to the UserManager in case of failed payments that cause a user account to be locked. \\
\hline
\textbf{Output Specification} & All simulated payments must be correctly registered and memorized using methods provided by the Payment entity; in case the simulated payment is successful, a confirmation e-mail must be sent without issues; in case it fails, an error e-mail must be sent without issues and the UserManager must be contacted with a request of account locking. \\
\hline
\textbf{Environmental Needs} & GlassFish server, mocked e-mail sender and receiver. \\
\hline
\textbf{Test Description} & The purpose of this test is to ensure a proper behaviour of the system in every possible case concerning payments for the services of \textit{PowerEnJoy}, in terms of registering payments, notifying success or failure and eventually requesting account locking. \\
\hline
\textbf{Testing Method} & Automated with JUnit and Mockito. \\
\hline
\end{longtable}

\section{Integration Test Case I13}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I13T1\\
\hline
\textbf{Test Item(s)} & (SB) RideManager $\rightarrow$ (JEB) Ride, (SB) CarStatusManager \\
\hline
\textbf{Input Specification} & Calls from RideManager to methods of Ride entities to update the ride status attribute at the beginning and end of the ride, and to methods of CarStatusManager to request updates to the status of cars according to the conditions at the end of rides. \\
\hline
\textbf{Output Specification} & The updates to the Ride entities must be correctly performed and made persistent in memory, and the status update request for cars must be performed correctly based on the final conditions of rides. \\
\hline
\textbf{Environmental Needs} & GlassFish server. \\
\hline
\textbf{Test Description} & The purpose of this test is to ensure a correct behaviour of the system in managing the rides and the consequent status variations of cars through the CarStatusManager. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I13T2\\
\hline
\textbf{Test Item(s)} & (SB) RideManager $\rightarrow$ (SB) PaymentGateway, (SB) DiscountProvider \\
\hline
\textbf{Input Specification} & Calls from RideManager to methods of PaymentGateway to communicate standard charges and prompt final charges computation, and to methods of DiscountProvider to request registration of detected alternative payment situations. \\
\hline
\textbf{Output Specification} & Every simulated detection of an alternative charges situation must result in an adequate method call to the DiscountProvider; the prompt to the final charges computation must be performed correctly in correspondence with the end of the ride. \\
\hline
\textbf{Environmental Needs} & GlassFish server. \\
\hline
\textbf{Test Description} & The purpose of this test is to verify the correctness of the active behaviour of the RideManager in terms of registering alternative payment situations and prompting the computation of final ride charges, through the indicated components. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}


\section{Integration Test Case I14}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I14T1\\
\hline
\textbf{Test Item(s)} & (SB) ReservationManager $\rightarrow$ (JEB) Car, (JEB) Reservation, (SB) CarStatusManager \\
\hline
\textbf{Input Specification} & Usual calls to the methods of the Car and Reservation entities from the ReservationManager to search for available cars and generate valid reservations; calls to the methods of CarStatusManager to request updates to the status of cars. \\
\hline
\textbf{Output Specification} & Update to cars and reservation must be performed correctly and the changes made persistent. The requests of car status modification must be performed correctly in relation to the context in which they happen. \\
\hline
\textbf{Environmental Needs} & GlassFish server. \\
\hline
\textbf{Test Description} & The purpose of this test is to verify that the ReservationManager behaves correctly during the car reservation process, with respect to showing available cars, generating and managing reservations and requesting car status updates to support reservation activities. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I14T2\\
\hline
\textbf{Test Item(s)} & (SB) ReservationManager $\rightarrow$ (SB) PaymentGateway, (SB) CarStatusManager \\
\hline
\textbf{Input Specification} & Calls from ReservationManager to methods of PaymentGateway to prompt automatic fee payment caused by the expiry of a reservation; call from ReservationManager to methods of CarStatusManager to request appropriate modifications to the status of the involved cars. \\
\hline
\textbf{Output Specification} & The PaymentGateway processes the request appropriately and the CarStatusManager sets the interested cars as "AVAILABLE" again. \\
\hline
\textbf{Environmental Needs} & GlassFish server. \\
\hline
\textbf{Test Description} & The purpose of this test is to ensure that every reservation that expires due to being pending for more than one hour of time causes the payment of a fee and the automatic request is sent and carried out appropriately; at the same time, the test ensures that, contextually, the cars are shown to be available again by the system. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\section{Integration Test Case I15}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I15T1\\
\hline
\textbf{Test Item(s)} & (SB) SecurityAuthenticator $\rightarrow$ (JEB) User, (SB) RideManager \\
\hline
\textbf{Input Specification} & Usual calls to the methods of the User entity in order to match user authentication information with a provided set of test inputs; calls to methods of the RideManager to request the creation of new rides. \\
\hline
\textbf{Output Specification} & The match between authentication information and values in the database is carried out correctly; if the procedure is successful, the new Ride tuple is created without issues. \\
\hline
\textbf{Environmental Needs} & GlassFish server. \\
\hline
\textbf{Test Description} & The purpose of this test is to check that the authentication process needed to start rides is performed correctly and all the required controls are carried out, as well as to ensure that every valid ride is memorized and made persistent upon its beginning. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I15T1\\
\hline
\textbf{Test Item(s)} & (SB) SecurityAuthenticator $\rightarrow$ (JEB) Reservation \\
\hline
\textbf{Input Specification} & Usual calls to the methods of the Reservation entity in order to match users and reservations upon unlock attempts. \\
\hline
\textbf{Output Specification} & The calls to the Reservation entity return and are matched correctly by the SecurityAuthenticator in order to decide whether allowing or preventing the car unlock process. \\
\hline
\textbf{Environmental Needs} & GlassFish server. \\
\hline
\textbf{Test Description} & The purpose of this test is to verify that whenever a user wants to unlock a car there actually is a reservation corresponding to his/her account and to the specific car of the case. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\section{Integration Test Case I16}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I16T1\\
\hline
\textbf{Test Item(s)} & (SB) MapManager $\rightarrow$ (JEB) Car, (JEB) SafeArea, (JEB) PowerGridStation \\
\hline
\textbf{Input Specification} & Usual calls from MapManager to the Car, SafeArea and PowerGridStation entities, in order to locate cars, power plugs and boundaries of the Safe Area based on input sets of coordinates. \\
\hline
\textbf{Output Specification} & The calls return correctly lists of values to be provided to other components needing such information. \\
\hline
\textbf{Environmental Needs} & GlassFish server. \\
\hline
\textbf{Test Description} & The purpose of this test is to verify that the MapManager calls to the database return results correctly with respect to the input coordinates and the actual positions of cars, power plugs and boundaries of the Safe Area. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\section{Integration Test Cases I17, I18, I19, I20}

The following test cases concern the integration among the JEE Containers and the related Session Beans. Since the test cases are very similar to each others, they are grouped together as follows:

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I17T1\\
\hline
\textbf{Test Item(s)} & (EJB Container) UserManagementContainer $\rightarrow$ (SB) UserManager \\
\hline
\textbf{Input Specification} & Requests for the UserManager Session Bean. \\
\hline
\hline
\textbf{Test Case Identifier} & I18T1\\
\hline
\textbf{Test Item(s)} & (EJB Container) UtilitiesContainer $\rightarrow$ (SB) MapManager, (SB) NotificationManager \\
\hline
\textbf{Input Specification} & Requests for the MapManager and NotificationManager Session Beans. \\
\hline
\hline
\textbf{Test Case Identifier} & I19T1\\
\hline
\textbf{Test Item(s)} & (EJB Container) ChargesManagementContainer $\rightarrow$ (SB) DiscountProvider, (SB) PaymentGateway \\
\hline
\textbf{Input Specification} & Requests for the DiscountProvider and the PaymentGateway Session Beans. \\
\hline
\hline
\textbf{Test Case Identifier} & I20T1\\
\hline
\textbf{Test Item(s)} & (EJB Container) RideManagementContainer $\rightarrow$ (SB) RideManager, (SB) ReservationManager, (SB) SecurityAuthenticator, (SB) CarStatusManager \\
\hline
\textbf{Input Specification} & Requests for the Session Beans provided by the RideManagement Container. \\
\hline
\hline
\textbf{Output Specification} & The Session Beans must be correctly assigned. Moreover the concurrency among multiple requests must be properly managed. \\
\hline
\textbf{Environmental Needs} & GlassFish server \\
\hline
\textbf{Test Description} & Multiple requests for one specific Session Bean have to be simultaneously carried out in order to avoid concurrency troubles during the system usage. \\
\hline
\textbf{Testing Method} & Automated with Arquillian and JUnit. \\
\hline
\end{longtable}

\section{Integration Test Case I21}\label{testing_c++}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I21T1\\
\hline
\textbf{Test Item(s)} & ApplicationController $\rightarrow$ UIManager, GPSManager, ConnectivityUnit, DataProcessingUnit  \\
\hline
\textbf{Input Specification} & Typical requests of functions used by the application components to the application controller in order for it to forward appropriately the requests to the correct underlying On-Board Application component. \\
\hline
\textbf{Output Specification} & The controller contacts the appropriate component and the functionality is offered. \\
\hline
\textbf{Environmental Needs} & Basic application components to integrate with must be fully developed. \\
\hline
\textbf{Test Description} & The purpose of this test is to check if the ApplicationController is able to make all the components communicate together properly. \\
\hline
\textbf{Testing Method} & Automated with a proper C/C++ testing environment. Manual testing on physical devices. \\
\hline
\end{longtable}

\section{Integration Test Case I22}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I22T1\\
\hline
\textbf{Test Item(s)} & ApplicationController  $\rightarrow$ UIManager, GPSManager \\
\hline
\textbf{Input Specification} & Typical requests of functions used by the application components to the application controller in order for it to forward appropriately the requests to the correct underlying Mobile Application component. \\
\hline
\textbf{Output Specification} & The controller contacts the appropriate component and the functionality is offered. \\
\hline
\textbf{Environmental Needs} & Basic application components to integrate with must be fully developed. \\
\hline
\textbf{Test Description} & The purpose of this test is to check if the ApplicationController is able to make all the components communicate together properly. \\
\hline
\textbf{Testing Method} & Automated with Android and iOS testing suites. Manual testing on physical devices. \\
\hline
\end{longtable}

\section{Integration Test Case I23}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I23T1\\
\hline
\textbf{Test Item(s)} & (SB) WebController $\rightarrow$ Java Server Pages \\
\hline
\textbf{Input Specification} & The WebController is provided with a typical output to be display on a web page. \\
\hline
\textbf{Output Specification} & Java Server Pages shall display the provided output correctly. \\
\hline
\textbf{Environmental Needs} & GlassFish server, fully developed Application Logic Tier. \\
\hline
\textbf{Test Description} & The test aims to check the robustness of the communication between JSP and the WebController bean. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}

\section{Integration Test Case I24}

\begin{longtable}{p{0.32\textwidth} | p{0.68\textwidth}}
\hline
\textbf{Test Case Identifier} & I24T1\\
\hline
\textbf{Test Item(s)} & (SB) WebController $\rightarrow$ Java Server Pages \\
\hline
\textbf{Input Specification} & The web application is executed. \\
\hline
\textbf{Output Specification} & The WebContainer instantiates the WebController correctly by injecting it using JSP. \\
\hline
\textbf{Environmental Needs} & GlassFish server. \\
\hline
\textbf{Test Description} & The purpose of this test is to verify that the WebController is correctly injected using JSP during the Web Application session. \\
\hline
\textbf{Testing Method} & Automated with JUnit. \\
\hline
\end{longtable}